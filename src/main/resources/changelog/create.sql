--liquibase formatted sql
--changeset create splitStatements:true endDelimiter:;

create sequence employee_entity_seq start with 1 increment by 50;
create sequence project_entity_seq start with 1 increment by 50;
create sequence tbl_address_seq start with 1 increment by 50;
create sequence tbl_book_seq start with 1 increment by 50;
create sequence tbl_person_seq start with 1 increment by 50;
create sequence tbl_versioned_department_seq start with 1 increment by 50;
create table employee_entity_audit (rev integer not null, revtype tinyint, creation_dt timestamp(6), id bigint not null, last_modified_dt timestamp(6), creation_by varchar(255), desc varchar(255), first_name varchar(255), last_modified_by varchar(255), last_name varchar(255), primary key (rev, id));
create table employee_project (employee_id bigint not null, project_id bigint not null, primary key (employee_id, project_id));
create table employee_project_audit (rev integer not null, revtype tinyint, employee_id bigint not null, project_id bigint not null, primary key (rev, employee_id, project_id));
create table employee_entity (version integer, creation_dt timestamp(6), id bigint not null, last_modified_dt timestamp(6), creation_by varchar(255), desc varchar(255), first_name varchar(255), last_modified_by varchar(255), last_name varchar(255), primary key (id));
create table project_entity_audit (rev integer not null, revtype tinyint, creation_dt timestamp(6), id bigint not null, last_modified_dt timestamp(6), creation_by varchar(255), desc varchar(255), description varchar(255), last_modified_by varchar(255), name varchar(255), primary key (rev, id));
create table project_entity (version integer, creation_dt timestamp(6), id bigint not null, last_modified_dt timestamp(6), creation_by varchar(255), desc varchar(255), description varchar(255), last_modified_by varchar(255), name varchar(255), primary key (id));
create table revinfo (rev integer generated by default as identity, revtstmp bigint, primary key (rev));
create table tbl_address (deleted boolean, version integer, creation_dt timestamp(6), id bigint not null, last_modified_dt timestamp(6), city varchar(255), creation_by varchar(255), desc varchar(255), last_modified_by varchar(255), state varchar(255), street varchar(255), zip_code varchar(255), primary key (id));
create table tbl_address_audit (deleted boolean, rev integer not null, revtype tinyint, creation_dt timestamp(6), id bigint not null, last_modified_dt timestamp(6), city varchar(255), creation_by varchar(255), desc varchar(255), last_modified_by varchar(255), state varchar(255), street varchar(255), zip_code varchar(255), primary key (rev, id));
create table tbl_book (deleted boolean, version integer, creation_dt timestamp(6), id bigint not null, last_modified_dt timestamp(6), author varchar(255), creation_by varchar(255), desc varchar(255), description varchar(255), last_modified_by varchar(255), name varchar(255), primary key (id));
create table tbl_book_audit (deleted boolean, rev integer not null, revtype tinyint, creation_dt timestamp(6), id bigint not null, last_modified_dt timestamp(6), author varchar(255), creation_by varchar(255), desc varchar(255), description varchar(255), last_modified_by varchar(255), name varchar(255), primary key (rev, id));
create table tbl_department (created_date timestamp(6), id bigint not null, last_modified_date timestamp(6), created_by varchar(255), description varchar(255), last_modified_by varchar(255), name varchar(255), primary key (id));
create table tbl_person (version integer, address_id bigint, creation_dt timestamp(6), id bigint not null, last_modified_dt timestamp(6), creation_by varchar(255), desc varchar(255), first_name varchar(255), last_modified_by varchar(255), last_name varchar(255), primary key (id));
create table tbl_person_audit (rev integer not null, revtype tinyint, address_id bigint, creation_dt timestamp(6), id bigint not null, last_modified_dt timestamp(6), creation_by varchar(255), desc varchar(255), first_name varchar(255), last_modified_by varchar(255), last_name varchar(255), primary key (rev, id));
create table tbl_versioned_department (version integer, creation_dt timestamp(6), id bigint not null, last_modified_dt timestamp(6), creation_by varchar(255), desc varchar(255), description varchar(255), last_modified_by varchar(255), name varchar(255), primary key (id));
alter table if exists employee_entity_audit add constraint FKqx3x9px3fjvpx4264iseqhs3 foreign key (rev) references revinfo;
alter table if exists employee_project add constraint FKbdje7j2n25ksohb5i1q6y1403 foreign key (project_id) references project_entity;
alter table if exists employee_project add constraint FKaw9u46brpilkk31641gjm31fq foreign key (employee_id) references employee_entity;
alter table if exists employee_project_audit add constraint FKfyoh7s06f31909vrw0h6wr6wu foreign key (rev) references revinfo;
alter table if exists project_entity_audit add constraint FK4oo3haio6unacpq8thmekrak7 foreign key (rev) references revinfo;
alter table if exists tbl_address_audit add constraint FKar04mleh9cyifbsqk50tb3jda foreign key (rev) references revinfo;
alter table if exists tbl_book_audit add constraint FK8f475i4o18gjji16p9tfu3es3 foreign key (rev) references revinfo;
alter table if exists tbl_person add constraint FKr4p3u3wtwqow2kf9kw41ld370 foreign key (address_id) references tbl_address;
alter table if exists tbl_person_audit add constraint FKir4e5vls0xb9ie0q4lydbxav4 foreign key (rev) references revinfo;
